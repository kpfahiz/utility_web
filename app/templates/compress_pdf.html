{% extends "base.html" %}
{% block title %}Compress PDF Online - Reduce PDF File Size | Utility WebApp{% endblock %}
{% block meta_description %}Compress PDF files online for free. Reduce the file size of your PDF documents while
maintaining the best possible quality for sharing and storage.{% endblock %}
{% block content %}
<h1 class="mb-4 h2">üìÑ Compress Your PDF</h1>

{% if error %}
<div class="alert alert-danger mb-4">
  <strong>Error:</strong> {{ error }}
</div>
{% endif %}

{% if compressed %}
<div class="alert alert-success mb-4">
  <h5 class="alert-heading">‚úÖ Compression Successful!</h5>
  <hr>
  <div class="row">
    <div class="col-md-6">
      <p class="mb-1"><strong>Original Size:</strong>
        {% if original_size_mb >= 1 %}
        {{ "%.2f"|format(original_size_mb) }} MB
        {% else %}
        {{ "%.2f"|format(original_size_kb) }} KB
        {% endif %}
      </p>
      <p class="mb-1"><strong>Compressed Size:</strong>
        {% if compressed_size_mb >= 1 %}
        {{ "%.2f"|format(compressed_size_mb) }} MB
        {% else %}
        {{ "%.2f"|format(compressed_size_kb) }} KB
        {% endif %}
      </p>
      <p class="mb-0"><strong>Compression:</strong>
        <span class="badge bg-success">{{ "%.1f"|format(compression_percentage) }}% reduction</span>
      </p>
    </div>
  </div>
  <hr>
  <a href="/download/{{ download_name }}" class="btn btn-primary" download aria-label="Download Compressed PDF">Download
    Compressed PDF</a>
  <a href="/compress-pdf" class="btn btn-secondary" aria-label="Compress Another PDF">Compress Another PDF</a>
</div>
{% endif %}

<form method="POST" enctype="multipart/form-data" class="mb-3">
  <div class="mb-3">
    <label for="pdf" class="form-label">Select PDF File</label>
    <input type="file" class="form-control" name="pdf" accept=".pdf,application/pdf" required>
  </div>
  <div class="mb-3">
    <label for="compression_level" class="form-label">Compression Level</label>
    <select class="form-select" name="compression_level" id="compression_level">
      <option value="low">Low (Better Quality, Larger Size)</option>
      <option value="medium" selected>Medium (Balanced)</option>
      <option value="high">High (Smaller Size, Lower Quality)</option>
    </select>
  </div>
  <button type="submit" class="btn btn-primary" aria-label="Compress PDF">Compress PDF</button>
</form>

<div class="mt-4">
  <a href="/" class="btn btn-outline-secondary" aria-label="Back to Homepage">‚Üê Back to Home</a>
</div>

<hr class="my-5">
<section class="mb-5 py-4">
  <h3 class="fw-bold mb-4 text-center">More PDF Utilities</h3>
  <div class="row g-3">
    <div class="col-md-4">
      <a href="/edit-pdf" class="card h-100 text-decoration-none hover-shadow border-0 shadow-sm">
        <div class="card-body text-center p-3">
          <span class="fs-2 mb-2 d-block" role="img" aria-label="Tools">‚úèÔ∏è</span>
          <h6 class="card-title mb-0 text-dark font-heading">Edit PDF</h6>
        </div>
      </a>
    </div>
    <div class="col-md-4">
      <a href="/sign-pdf" class="card h-100 text-decoration-none hover-shadow border-0 shadow-sm">
        <div class="card-body text-center p-3">
          <span class="fs-2 mb-2 d-block" role="img" aria-label="Pen">‚úçÔ∏è</span>
          <h6 class="card-title mb-0 text-dark font-heading">Sign PDF</h6>
        </div>
      </a>
    </div>
    <div class="col-md-4">
      <a href="/convert-pdf-doc" class="card h-100 text-decoration-none hover-shadow border-0 shadow-sm">
        <div class="card-body text-center p-3">
          <span class="fs-2 mb-2 d-block" role="img" aria-label="Word">üìù</span>
          <h6 class="card-title mb-0 text-dark font-heading">PDF to Word</h6>
        </div>
      </a>
    </div>
  </div>
</section>

<!-- HowTo Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "How to Compress PDF Files Online",
  "description": "Reduce PDF file size while maintaining document quality with our free online compressor.",
  "step": [
    {
      "@type": "HowToStep",
      "name": "Select PDF",
      "text": "Choose the PDF document you want to compress from your device storage.",
      "url": "{{ request.url }}"
    },
    {
      "@type": "HowToStep",
      "name": "Choose Compression Level",
      "text": "Select between Low, Medium, or High compression based on your quality needs.",
      "url": "{{ request.url }}"
    },
    {
      "@type": "HowToStep",
      "name": "Download Optimized PDF",
      "text": "Click Compress PDF and download your lightweight document instantly.",
      "url": "{{ request.url }}"
    }
  ],
  "totalTime": "PT30S"
}
</script>
{% endblock %}
```